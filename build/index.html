<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" type="image/png" href="images/favicon.png">
    <title>FABRIQ API Reference</title>

    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
      <script src="javascripts/all.js" type="text/javascript"></script>

      <script>
        $(function() {
          setupLanguages(["shell"]);
        });
      </script>
  </head>

  <body class="index">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <img src="images/logo.png" />
        <div class="lang-selector">
              <a href="#" data-language-name="shell">shell</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc">
      </div>
        <ul class="toc-footer">
            <li><a href='https://developer.fabriq.io'>Sign Up for a Developer Key</a></li>
            <li><a href='http://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        
          <h1 id="introduction">Introduction</h1>

<blockquote>
<p><strong>API Endpoint</strong></p>
</blockquote>
<pre class="highlight plaintext"><code>https://api.fabriq.io
</code></pre>

<p>The FABRIQ API makes it easy to embed powerful and intelligent safety features into apps and wearables.  Use it
to trigger an alert, monitor an activity or periodically check on the welfare of a loved one.  The possibilities
to enhance our personal safety are endless!</p>

<p>The API is organized around <a href="http://en.wikipedia.org/wiki/Representational_State_Transfer">REST</a> and uses
resource-oriented URLs. It makes use of HTTP verbs (e.g. GET, POST, etc.) to perform actions and
HTTP response codes (e.g. 200 OK) to communicate state.</p>

<p>All responses are returned in JSON, including application and system errors.</p>

          <h1 id="authentication">Authentication</h1>

          <h1 id="oauth">OAuth</h1>

<p>FABRIQ implements the OAuth 2.0 standard to facilitate user authorization. Similar to Facebook and Twitterâ€™s
authentication flow, the user is first presented with a permission dialog for your application, at which point
the user can either approve the permissions requested, or reject them. Once the user approves, an
authorization_code is sent to your application, which will then be exchanged for an access_token.</p>

<p>The access_token can then be used to make API calls.  </p>

<p>Access tokens currently are long lived and essentially do not expire.  This is will change in a future update of the API.  </p>

<h2 id="request-authorization">Request Authorization</h2>

<blockquote>
<p><strong>Example Request</strong></p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s2">"https://api.fabriq.io/oauth/authorize"</span> <span class="se">\</span>
  -d <span class="nv">response_type</span><span class="o">=</span>code                      <span class="se">\</span>
  -d <span class="nv">client_id</span><span class="o">={</span>CLIENT_ID<span class="o">}</span>                  <span class="se">\</span>
  -d <span class="nv">redirect_uri</span><span class="o">={</span>REDIRECT_URI<span class="o">}</span>
</code></pre>

<blockquote>
<p><strong>Example Response</strong></p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"grants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"panic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geoblast"</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5b4ad9e4-c1c9-4968-84e4-360c61148ec5"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"has_contacts"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test__d9c1f22e-1e41-4696-9643-67f1cc10005d"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>To start the OAuth process, construct the initiation URL which the user will visit in order to grant permission to
your application. The request includes your client application (client_id), and where the user should be redirected to
after they grant or deny permissions to your application (redirect_uri).</p>

          <h1 id="errors">Errors</h1>

<p>FABRIQ uses standard HTTP response codes to indicate the status of an API request. In general, codes in the 2xx range indicate success, codes in the 4xx range indicate an error that resulted from the provided information (e.g. a required parameter was missing), and codes in the 5xx range indicate an internal system or server error.</p>

          <h2 id="error-codes">Error Codes</h2>

<table><thead>
<tr>
<th>Error Codes</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>200<br><em>OK</em></td>
<td>Everything worked as expected</td>
</tr>
<tr>
<td>400<br><em>Bad Request</em></td>
<td>Request received with a missing or invalid parameter</td>
</tr>
<tr>
<td>401<br><em>Unauthorized</em></td>
<td>An access_token or client_id was invalid or not provided</td>
</tr>
<tr>
<td>403<br><em>Not Allowed</em></td>
<td>The request was valid but user not allowed to access the item</td>
</tr>
<tr>
<td>404<br><em>Not Found</em></td>
<td>The requested item doesn&rsquo;t exist</td>
</tr>
<tr>
<td>412<br><em>Validation Error</em></td>
<td>The request was valid but could not be completed because a condition was not met.</td>
</tr>
<tr>
<td>429<br><em>Too Many Requests</em></td>
<td>Too many requests hit the API too quickly</td>
</tr>
<tr>
<td>500<br><em>Server Error</em></td>
<td>FABRIQ server error</td>
</tr>
</tbody></table>

          <h2 id="error-response">Error Response</h2>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="mi">403</span><span class="p">,</span><span class="w">
    </span><span class="nt">"developer_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Invalid access request"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"reference_url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://docs.fabriq.io/#errors"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th>ATTRIBUTES</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td>status<br><strong>required</strong></td>
<td>HTTP status code</td>
</tr>
<tr>
<td>developer_message<br><strong>required</strong></td>
<td>Error details for the developer</td>
</tr>
<tr>
<td>client_message<br><em>optional</em></td>
<td>Message that may be displayed to the end user</td>
</tr>
<tr>
<td>reference_url<br><em>optional</em></td>
<td>URL for more information that may help resolve the error</td>
</tr>
</tbody></table>

          <h1 id="versioning">Versioning</h1>

          <h1 id="inapp-browser">Inapp Browser</h1>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>https://portal.fabriq.io/#/access_token={ACCESS_TOKEN}
</code></pre>

<p>To simplify the experience of a user configuring his or her FABRIQ account, you can launch
an in-app browser that&rsquo;s directed to a custom FABRIQ portal.  There, the user can add/remove
contacts, change account settings, etc.</p>

<p>When the in-app browser is closed, your app should refresh the user and settings objects to get the latest
changes made to their account.</p>

<p>The in-app browser should be directed to the following URL:</p>

<p><code style="margin:auto;">
https://portal.fabriq.io/#/access_token={ACCESS_TOKEN}
</code></p>

<p><br/></p>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">access_token <br><strong>required</strong></td>
<td>The user&rsquo;s access_token</td>
</tr>
</tbody></table>

          <h1 class="toc-divider hidden">Methods</h1>

          <h1 id="users">Users</h1>

<p>Most API calls are made on behalf of a user and act on the user&rsquo;s account. </p>

          <h2 id="the-user-object">The user object</h2>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001440886991323-a2d5c77b67d7-0001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12155551111"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mobile_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12155551111"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"has_contacts"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"grants"</span><span class="p">:[</span><span class="w">
        </span><span class="s2">"panic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geoblast"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"activity_tracking"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ping_me"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"connect_911"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ATTRIBUTES</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">uid <br><em>string</em></td>
<td>Unique identifier of the user</td>
</tr>
<tr>
<td style="text-align: right">username <br><em>string</em></td>
<td>User&rsquo;s username</td>
</tr>
<tr>
<td style="text-align: right">email <br><em>string</em></td>
<td>User&rsquo;s email address</td>
</tr>
<tr>
<td style="text-align: right">mobile_number <br><em>string</em></td>
<td>User&rsquo;s mobile number (<a href="https://en.wikipedia.org/wiki/E.164">E.164 format</a>)</td>
</tr>
<tr>
<td style="text-align: right">has_contacts <br><em>boolean</em></td>
<td>True if user has at least one verified contact</td>
</tr>
<tr>
<td style="text-align: right">is_verified <br><em>boolean</em></td>
<td>True if FABRIQ has validated user&rsquo;s email and mobile_number</td>
</tr>
<tr>
<td style="text-align: right">grants <br><em>array</em></td>
<td>Array of features enabled for this user</td>
</tr>
</tbody></table>

          <h2 id="create-a-user">Create a user</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.fabriq.io/users
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s1">'https://api.fabriq.io/users'</span>   <span class="se">\</span>
  -H <span class="s1">'X-FABRIQ-CLIENT-ID: {CLIENT_ID}'</span>              <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>        <span class="se">\</span>
  -d <span class="s1">'{                                        
        "mobile_number": "+12155551111"
      }'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001440886991323-a2d5c77b67d7-0001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12155551111"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mobile_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12155551111"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"has_contacts"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"grants"</span><span class="p">:[</span><span class="w">
        </span><span class="s2">"panic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geoblast"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"activity_tracking"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ping_me"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"connect_911"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">mobile_number <br><strong>required</strong></td>
<td>User&rsquo;s mobile number (<a href="https://en.wikipedia.org/wiki/E.164">E.164 format</a>)</td>
</tr>
<tr>
<td style="text-align: right">email <br><em>optional</em></td>
<td>User&rsquo;s email address (must be valid and unique)</td>
</tr>
<tr>
<td style="text-align: right">username <br><em>optional</em></td>
<td>User&rsquo;s email address (must be valid and available)</td>
</tr>
<tr>
<td style="text-align: right">first_name <br><em>optional</em></td>
<td>User&rsquo;s first name</td>
</tr>
<tr>
<td style="text-align: right">last_name <br><em>optional</em></td>
<td>User&rsquo;s last name</td>
</tr>
<tr>
<td style="text-align: right">login <br><em>optional</em></td>
<td>If true, the user will be logged in and the return object will include an access_token</td>
</tr>
</tbody></table>

<p><br/>
<aside class="notice">
Please note that the argument <code>login</code> should be passed in as query parameter in the REST API.</p>

<p><code style="display:block;text-align:center;margin-top:20px;color:#000;">
POST https://api.fabriq.io/users?login=true
</code></p>

<p></aside></p>

<h3 id="returns">Returns</h3>

<p>A user object.  If the query parameter login is set to true, then the return object will include an
access_token.</p>

          <h2 id="retrieve-current-user">Retrieve current user</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.fabriq.io/me
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.fabriq.io/me'</span>               <span class="se">\</span>
  -H <span class="s2">"Authorization: Bearer {ACCESS_TOKEN}"</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001440886991323-a2d5c77b67d7-0001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12155551111"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mobile_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12155551111"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"has_contacts"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"grants"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="s2">"panic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geoblast"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"activity_tracking"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ping_me"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"connect_911"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="returns">Returns</h3>

<p>Return the current user associated with the access_token.</p>

          <h2 id="update-current-user">Update current user</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://api.fabriq.io/me
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X PUT <span class="s1">'https://api.fabriq.io/me'</span>        <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>   <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>         <span class="se">\</span>
  -d <span class="s1">'{                                        
        "uid": "0001440886991323-a2d5c77b67d7-0001",
        "mobile_number": "+12155551112"
      }'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0001440886991323-a2d5c77b67d7-0001"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"test01"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mobile_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12155551112"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"has_contacts"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"is_verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"grants"</span><span class="p">:[</span><span class="w">
        </span><span class="s2">"panic"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"geoblast"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"activity_tracking"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"ping_me"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"connect_911"</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">uid <br><strong>required</strong></td>
<td>User identifier</td>
</tr>
<tr>
<td style="text-align: right">mobile_number <br><em>optional</em></td>
<td>New mobile number (<a href="https://en.wikipedia.org/wiki/E.164">E.164 format</a>)</td>
</tr>
<tr>
<td style="text-align: right">email <br><em>optional</em></td>
<td>New email address</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Return the updated user object. Please note that an update will require
the user to verify his or her email and/or mobile number.</p>

          <h1 id="profile">Profile</h1>

<p>The user&rsquo;s profile contains all the public and private details that will be communicated to the user&rsquo;s contacts,
community and emergency responders when an alert is triggered.</p>

          <h2 id="the-profile-object">The profile object</h2>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"birth_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1990-01-04"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"female"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"height"</span><span class="p">:</span><span class="w"> </span><span class="mf">167.64</span><span class="p">,</span><span class="w">
    </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mf">54.4311</span><span class="p">,</span><span class="w">
    </span><span class="nt">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"white"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"eye_color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hazel"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hair_color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"brown"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ATTRIBUTES</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">first_name <br><em>string</em></td>
<td>User&rsquo;s first name</td>
</tr>
<tr>
<td style="text-align: right">last_name <br><em>string</em></td>
<td>User&rsquo;s last name</td>
</tr>
<tr>
<td style="text-align: right">display_name <br><em>string</em></td>
<td>User&rsquo;s full name</td>
</tr>
<tr>
<td style="text-align: right">photo_url <br><em>url</em></td>
<td>Link to user&rsquo;s photo</td>
</tr>
<tr>
<td style="text-align: right">birth_date <br><em>date string</em></td>
<td>User&rsquo;s birthday formatted as YYYY-MM-DD (e.g. 1980-01-04)</td>
</tr>
<tr>
<td style="text-align: right">gender <br><em>string</em></td>
<td>User&rsquo;s gender. Values: <code class="prettyprint">male</code>, <code class="prettyprint">female</code></td>
</tr>
<tr>
<td style="text-align: right">height <br><em>double</em></td>
<td>User&rsquo;s height in centimeters</td>
</tr>
<tr>
<td style="text-align: right">weight <br><em>double</em></td>
<td>User&rsquo;s weight in kilograms</td>
</tr>
<tr>
<td style="text-align: right">race <br><em>string</em></td>
<td>User&rsquo;s ethnicity. Values: <code class="prettyprint">white</code>, <code class="prettyprint">black</code>, <code class="prettyprint">hispanic</code>, <code class="prettyprint">asian</code>, <code class="prettyprint">native_american</code>, <code class="prettyprint">pacific_islander</code>, <code class="prettyprint">other</code>, <code class="prettyprint">unknown</code></td>
</tr>
<tr>
<td style="text-align: right">eye_color <br><em>string</em></td>
<td>User&rsquo;s eye color. Values: <code class="prettyprint">brown</code>, <code class="prettyprint">green</code>, <code class="prettyprint">blue</code>, <code class="prettyprint">hazel</code></td>
</tr>
<tr>
<td style="text-align: right">hair_color <br><em>string</em></td>
<td>User&rsquo;s hair color. Values: <code class="prettyprint">black</code>, <code class="prettyprint">brown</code>, <code class="prettyprint">blonde</code>, <code class="prettyprint">red</code>, <code class="prettyprint">gray</code>, <code class="prettyprint">white</code>, <code class="prettyprint">bald</code></td>
</tr>
</tbody></table>

          <h2 id="retrieve-profile">Retrieve profile</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.fabriq.io/profile
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.fabriq.io/profile'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"birth_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1990-01-04"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"female"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"height"</span><span class="p">:</span><span class="w"> </span><span class="mf">167.64</span><span class="p">,</span><span class="w">
    </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mf">54.4311</span><span class="p">,</span><span class="w">
    </span><span class="nt">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"white"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"eye_color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hazel"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hair_color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"brown"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="returns">Returns</h3>

<p>The user&rsquo;s profile object.</p>

          <h2 id="update-profile">Update profile</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://api.fabriq.io/profile
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X PUT <span class="s1">'https://api.fabriq.io/profile'</span>        <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>   <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>         <span class="se">\</span>
  -d <span class="s1">'{                                        
        "height": 174.2
      }'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"birth_date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1990-01-04"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"gender"</span><span class="p">:</span><span class="w"> </span><span class="s2">"female"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"height"</span><span class="p">:</span><span class="w"> </span><span class="mf">174.2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"weight"</span><span class="p">:</span><span class="w"> </span><span class="mf">54.4311</span><span class="p">,</span><span class="w">
    </span><span class="nt">"race"</span><span class="p">:</span><span class="w"> </span><span class="s2">"white"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"eye_color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"hazel"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"hair_color"</span><span class="p">:</span><span class="w"> </span><span class="s2">"brown"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">first_name <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">last_name <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">display_name <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">birth_date <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">gender <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">height <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">weight <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">race <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">eye_color <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">hair_color <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">photo_data <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">photo_content_type <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">photo_size <br><em>optional</em></td>
<td>-</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Return the updated profile object.</p>

          <h1 id="position">Position</h1>

<p>The user&rsquo;s position is updated during an activity or whenever an alert is triggered.</p>

          <h2 id="the-position-object">The position object</h2>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.0154335191846</span><span class="p">,</span><span class="w">
    </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-105.2499519010123</span><span class="p">,</span><span class="w">
    </span><span class="nt">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1401640196770</span><span class="p">,</span><span class="w">
    </span><span class="nt">"altitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">1606.125526428223</span><span class="p">,</span><span class="w">
    </span><span class="nt">"accuracy"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
    </span><span class="nt">"altitude_accuracy"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
    </span><span class="nt">"heading"</span><span class="p">:</span><span class="w"> </span><span class="mf">187.03125</span><span class="p">,</span><span class="w">
    </span><span class="nt">"speed"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.410</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ATTRIBUTES</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">latitude <br><em>double</em></td>
<td>Position latitude</td>
</tr>
<tr>
<td style="text-align: right">longitude <br><em>double</em></td>
<td>Position longitude</td>
</tr>
<tr>
<td style="text-align: right">timestamp <br><em>timestamp</em></td>
<td>Timestamp in milliseconds when location was captured</td>
</tr>
<tr>
<td style="text-align: right">altitude <br><em>double</em></td>
<td>Position altitude (meters)</td>
</tr>
<tr>
<td style="text-align: right">accuracy <br><em>double</em></td>
<td>Position accuracy (if available)</td>
</tr>
<tr>
<td style="text-align: right">altitude_accuracy <br><em>double</em></td>
<td>Position altitude accuracy (if available)</td>
</tr>
<tr>
<td style="text-align: right">heading <br><em>double</em></td>
<td>Position heading (degrees clockwise from North)</td>
</tr>
<tr>
<td style="text-align: right">speed <br><em>double</em></td>
<td>Position speed (meters/second)</td>
</tr>
</tbody></table>

          <h1 id="circles">Circles</h1>

<p>A user can add a contact to one or more circles.  In certain situations an alert or notification can then be made
available only to the contacts contained by the selected circles.</p>

          <h2 id="the-circle-object">The circle object</h2>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"df2ecdaa-5597-11e5-a0dd-38c98601185b"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ATTRIBUTES</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">uid <br><em>string</em></td>
<td>Unique identifier of the circle</td>
</tr>
<tr>
<td style="text-align: right">name <br><em>string</em></td>
<td>Name assigned to the circle</td>
</tr>
<tr>
<td style="text-align: right">default <br><em>boolean</em></td>
<td>Is this the user&rsquo;s default circle</td>
</tr>
<tr>
<td style="text-align: right">photo_url <br><em>url</em></td>
<td>Link to circle&rsquo;s icon or photo</td>
</tr>
</tbody></table>

          <h2 id="add-a-circle">Add a circle</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.fabriq.io/circles
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s1">'https://api.fabriq.io/circles'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>  <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>  <span class="se">\</span>
  -d <span class="s1">'{                                        
         "name": "Family"                    
      }'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60adf957-4d16-44ef-a271-217f6404b146"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Family"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">name <br><strong>required</strong></td>
<td>Name of the circle</td>
</tr>
<tr>
<td style="text-align: right">photo_data <br><em>optional</em></td>
<td>Circle photo base64 encoded</td>
</tr>
<tr>
<td style="text-align: right">photo_content_type <br><em>optional</em></td>
<td>Photo content type. (Required if photo_data is specified)</td>
</tr>
<tr>
<td style="text-align: right">photo_size <br><em>optional</em></td>
<td>Size of the photo.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A circle object.</p>

          <h2 id="list-all-circles">List all circles</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.fabriq.io/circles
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.fabriq.io/circles'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"df2ecdaa-5597-11e5-a0dd-38c98601185b"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
 </span><span class="p">},</span><span class="w">
 </span><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"60adf957-4d16-44ef-a271-217f6404b146"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Family"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"default"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<h3 id="returns">Returns</h3>

<p>An array of circles. The array will include at least one circle which is the user&rsquo;s default circle.</p>

          <h1 id="contacts">Contacts</h1>

<p>A user&rsquo;s contact receives alerts and notifications that are manually triggered or generated by FABRIQ.  When a
contact receives an alert and verifies it&rsquo;s a true emergency, he or she can escalate the alert by geo-blasting it
to the FABRIQ Network and/or being connected to the user&rsquo;s local 911 emergency call center.</p>

<p>A user can have multiple contacts and each contact can be added to one or more <a href="#circles">circles</a>.</p>

          <h2 id="the-contact-object">The contact object</h2>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d621e0d0-542f-11e5-9364-20c9d07e7899"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"photo_url"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mobile_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12125551212"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email_alert"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sms_alert"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"push_alert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email_verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mobile_verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"circles"</span><span class="p">:[{</span><span class="w">
        </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d4826772-542f-11e5-9364-20c9d07e7899"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ATTRIBUTES</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">uid <br><em>string</em></td>
<td>Unique identifier of the contact</td>
</tr>
<tr>
<td style="text-align: right">first_name <br><em>string</em></td>
<td>Contact&rsquo;s first name</td>
</tr>
<tr>
<td style="text-align: right">last_name <br><em>string</em></td>
<td>Contact&rsquo;s last name</td>
</tr>
<tr>
<td style="text-align: right">display_name <br><em>string</em></td>
<td>Contact&rsquo;s full name</td>
</tr>
<tr>
<td style="text-align: right">photo_url <br><em>url</em></td>
<td>Link to contact&rsquo;s photo</td>
</tr>
<tr>
<td style="text-align: right">email <br><em>string</em></td>
<td>Contact&rsquo;s email address</td>
</tr>
<tr>
<td style="text-align: right">mobile_number <br><em>string</em></td>
<td>Contact&rsquo;s mobile number  (<a href="https://en.wikipedia.org/wiki/E.164">E.164 format</a>)</td>
</tr>
<tr>
<td style="text-align: right">email_alert <br><em>boolean</em></td>
<td>True if contact has opted to receive email alerts</td>
</tr>
<tr>
<td style="text-align: right">sms_alert <br><em>boolean</em></td>
<td>True if contact has opted to receive text alerts</td>
</tr>
<tr>
<td style="text-align: right">push_alert <br><em>boolean</em></td>
<td>True if contact has opted to receive push alerts</td>
</tr>
<tr>
<td style="text-align: right">email_verified <br><em>boolean</em></td>
<td>True if FABRIQ has verified contact&rsquo;s email address</td>
</tr>
<tr>
<td style="text-align: right">mobile_verified <br><em>boolean</em></td>
<td>True if FABRIQ has verified contact&rsquo;s mobile number</td>
</tr>
<tr>
<td style="text-align: right">circles <br><em>array</em></td>
<td>List of circles to which this contact has been added</td>
</tr>
</tbody></table>

          <h2 id="add-a-contact">Add a contact</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.fabriq.io/contacts
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s1">'https://api.fabriq.io/contacts'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>  <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>  <span class="se">\</span>
  -d <span class="s1">'{                                        
         "first_name": "Jane",                    
         "last_name": "Doe",                    
         "email": "jane@example.com",                    
         "mobile_number": "+12125551313",
         "circles": ["d4826772-542f-11e5-9364-20c9d07e7899"]

      }'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"761d4f1a-a121-40f8-a8d3-2993ba5861d9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jane doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">" jane@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mobile_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12125551313"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email_alert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sms_alert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"push_alert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email_verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mobile_verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"circles"</span><span class="p">:[{</span><span class="w">
        </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d4826772-542f-11e5-9364-20c9d07e7899"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">first_name <br><strong>required</strong></td>
<td>Contact&rsquo;s first name</td>
</tr>
<tr>
<td style="text-align: right">last_name <br><strong>required</strong></td>
<td>Contact&rsquo;s last name</td>
</tr>
<tr>
<td style="text-align: right">mobile_number <br><strong>required</strong></td>
<td>Contact&rsquo;s mobile number  (<a href="https://en.wikipedia.org/wiki/E.164">E.164 format</a>)</td>
</tr>
<tr>
<td style="text-align: right">email <br><em>optional</em></td>
<td>Contact&rsquo;s email address</td>
</tr>
<tr>
<td style="text-align: right">circles <br><em>optional</em></td>
<td>Array of <code class="prettyprint">circle_uid</code>&rsquo;s to which this contact should belong. If not specified, contact will be added to the user&rsquo;s default circle.</td>
</tr>
<tr>
<td style="text-align: right">photo_data <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">photo_content_type <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">photo_size <br><em>optional</em></td>
<td>-</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>A contact object.</p>

          <h2 id="list-all-contacts">List all contacts</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.fabriq.io/contacts
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.fabriq.io/contacts'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d621e0d0-542f-11e5-9364-20c9d07e7899"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"John Doe"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"photo_url"</span><span class="p">:</span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jdoe@example.com"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mobile_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"+12125551212"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email_alert"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"sms_alert"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"push_alert"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"email_verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"mobile_verified"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"circles"</span><span class="p">:[{</span><span class="w">
        </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"d4826772-542f-11e5-9364-20c9d07e7899"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"photo_url"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="nt">"display_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Default"</span><span class="w">
    </span><span class="p">}]</span><span class="w">
</span><span class="p">},</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="err">...</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<h3 id="returns">Returns</h3>

<p>An array of contacts or an empty array if the user has not added any contacts yet.</p>

          <h1 id="alerts">Alerts</h1>

<p>An alert can be triggered either manually by the user or automatically by the system.  A manual trigger requires
the user to activate a software or hardware button.  An automatic alert is triggered by the system when a certain
threshold is met.  For example, a <code class="prettyprint">timeout</code> alert is triggered if an activity is not ended within a certain period
of time.</p>

          <h2 id="alert-types">Alert Types</h2>

<p>FABRIQ manages several types of alerts and notifications</p>

<h3 id="panic-alert">Panic Alert</h3>

<p>An alert triggered by the user to indicate he or she is in immediate danger.</p>

<h3 id="timeout-alert">Timeout Alert</h3>

<p>This alert is triggered when the user does not end an activity within a specified period of time.</p>

<h3 id="ping-alert">Ping Alert</h3>

<p>The user can request to have FABRIQ send him or her a periodic message (called a ping).  If the user does not
respond to this ping within a specified period of time, an automatic alert will be triggered.</p>

<h3 id="watch-notification">Watch Notification</h3>

<p>The user can request to have his or her contacts notified that have started and/or ended an activity.  The user will
receive a message with a link to watch the user in real-time.</p>

          <h2 id="the-alert-object">The alert object</h2>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8d3dd9ed-146e-4526-a69b-d06c7d12cbf9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"panic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.01592844038895</span><span class="p">,</span><span class="w">
    </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-105.2487217142231</span><span class="p">,</span><span class="w">
    </span><span class="nt">"activity_uid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440975513777</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acknowledged"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"canceled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"canceled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440975513777</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ATTRIBUTES</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">uid <br><em>string</em></td>
<td>Unique identifier of the alert</td>
</tr>
<tr>
<td style="text-align: right">type <br><em>string</em></td>
<td>Type of the alert. Possible values <code class="prettyprint">panic</code>, <code class="prettyprint">timeout</code>, <code class="prettyprint">ping</code>, <code class="prettyprint">start_activity</code>, <code class="prettyprint">end_activity</code></td>
</tr>
<tr>
<td style="text-align: right">latitude <br><em>double</em></td>
<td>Latitude where alert was triggered</td>
</tr>
<tr>
<td style="text-align: right">longitude <br><em>double</em></td>
<td>Longitude where alert was triggered</td>
</tr>
<tr>
<td style="text-align: right">activity_uid <br><em>string</em></td>
<td>Activity associated with this alert</td>
</tr>
<tr>
<td style="text-align: right">alert_date <br><em>timestamp</em></td>
<td>Timestamp (UTC) when alert was triggered</td>
</tr>
<tr>
<td style="text-align: right">acknowledged <br><em>boolean</em></td>
<td>Alert has been acknowledged by at least one contact</td>
</tr>
<tr>
<td style="text-align: right">canceled <br><em>boolean</em></td>
<td>Flag to indicate if this alert has been canceled</td>
</tr>
<tr>
<td style="text-align: right">canceled_date <br><em>timestamp</em></td>
<td>Timestamp (UTC) when alert was canceled</td>
</tr>
</tbody></table>

          <h2 id="trigger-a-panic-alert">Trigger a PANIC alert</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.fabriq.io/alerts/panic
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s1">'https://api.fabriq.io/alerts/panic'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>  <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>  <span class="se">\</span>
  -d <span class="s1">'{                                        
        "latitude": 40.01592844038895,                    
        "longitude": -105.2487217142231                  
       }'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8d3dd9ed-146e-4526-a69b-d06c7d12cbf9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"panic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.01592844038895</span><span class="p">,</span><span class="w">
    </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-105.2487217142231</span><span class="p">,</span><span class="w">
    </span><span class="nt">"activity_uid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440975513777</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acknowledged"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"canceled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">latitude <br><em>optional</em></td>
<td>Latitude where alert was triggered</td>
</tr>
<tr>
<td style="text-align: right">longitude <br><em>optional</em></td>
<td>Longitude where alert was triggered</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An alert object if messages were successfully sent to the user&rsquo;s contact(s).</p>

          <h2 id="upload-media">Upload media</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.fabriq.io/alerts/{ALERT_UID}/media
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s1">'https://api.fabriq.io/alerts/8d3dd9ed-146e-4526-a69b-d06c7d12cbf9/media'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>   <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>         <span class="se">\</span>
  -d <span class="s1">'{                                        
        "content_type": "audio/wav",
        "data": "aGVsbG8gd29ybGQ=",
      }'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP Status Code: 201
</code></pre>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">content_type <br><strong>required</strong></td>
<td>Media contenty type. Currently, only <code class="prettyprint">audio/wav</code> and <code class="prettyprint">audio/AMR</code> types are supported.</td>
</tr>
<tr>
<td style="text-align: right">data <br><strong>required</strong></td>
<td>The media data <b>base64 encoded</b>.</td>
</tr>
<tr>
<td style="text-align: right">size <br><em>optional</em></td>
<td>The size of the media file.  NOTE: This is not the size of the base64 encoded string but the size of the original media file.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>This method will return a 201 HTTP Status code if the data was uploaded successfully.  It does not return a JSON object.</p>

          <h2 id="update-position">Update position</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.fabriq.io/alerts/{ALERT_UID}/position
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s1">'https://api.fabriq.io/alerts/8d3dd9ed-146e-4526-a69b-d06c7d12cbf9/position'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>   <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>         <span class="se">\</span>
  -d <span class="s1">'[{                                        
            "latitude": 40.01547488387676,
            "longitude":-105.2499169484761,
            "timestamp": 1401640190777                      
       },{                                      
            "latitude": 40.0154335191846,                    
            "longitude": -105.2499519010123,                    
            "timestamp": 1401640196770                      
       }]'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP Status Code: 201
</code></pre>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">positions <br><strong>required</strong></td>
<td>An array of <a href="#position">position</a> objects. <code class="prettyprint">latitude</code>, <code class="prettyprint">longitude</code> and <code class="prettyprint">timestamp</code> fields are required.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>This method will return a 201 HTTP Status code if the data was uploaded successfully.  It does not return a JSON object.</p>

          <h2 id="retrieve-an-alert">Retrieve an alert</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.fabriq.io/alerts/{ALERT_UID}
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.fabriq.io/alerts/8d3dd9ed-146e-4526-a69b-d06c7d12cbf9'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8d3dd9ed-146e-4526-a69b-d06c7d12cbf9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"panic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.01592844038895</span><span class="p">,</span><span class="w">
    </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-105.2487217142231</span><span class="p">,</span><span class="w">
    </span><span class="nt">"activity_uid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440975513777</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acknowledged"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"canceled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"canceled_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">alert_uid <br><strong>required</strong></td>
<td>The UID of the alert to be retrieved</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An alert object if a valid UID was provided.</p>

          <h2 id="cancel-an-alert">Cancel an alert</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://api.fabriq.io/alerts/{ALERT_UID}
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X DELETE <span class="s1">'https://api.fabriq.io/alerts/8d3dd9ed-146e-4526-a69b-d06c7d12cbf9'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>  <span class="se">\</span>
  -d <span class="nv">pin</span><span class="o">=</span>1234
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8d3dd9ed-146e-4526-a69b-d06c7d12cbf9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"panic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.01592844038895</span><span class="p">,</span><span class="w">
    </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-105.2487217142231</span><span class="p">,</span><span class="w">
    </span><span class="nt">"activity_uid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440975513777</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acknowledged"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"canceled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"canceled_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440975513777</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">pin <br><strong>required</strong></td>
<td>User&rsquo;s 4-digit PIN</td>
</tr>
</tbody></table>

<p><br/>
<aside class="notice">
The supplied PIN can be either the user&rsquo;s OK PIN or distress PIN.  The OK PIN will actually
cancel the alert while the distress PIN should cause the UI to seem like it has been disabled.
</aside></p>

<h3 id="returns">Returns</h3>

<p>An alert object with canceled status and date set.  If the distress PIN was entered, the <code class="prettyprint">canceled</code>
attribute will return <code class="prettyprint">false</code>.</p>

          <h2 id="list-active-alerts">List active alerts</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.fabriq.io/alerts
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.fabriq.io/alerts'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8d3dd9ed-146e-4526-a69b-d06c7d12cbf9"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"panic"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"latitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.01592844038895</span><span class="p">,</span><span class="w">
    </span><span class="nt">"longitude"</span><span class="p">:</span><span class="w"> </span><span class="mf">-105.2487217142231</span><span class="p">,</span><span class="w">
    </span><span class="nt">"activity_uid"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440975513777</span><span class="p">,</span><span class="w">
    </span><span class="nt">"acknowledged"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"canceled"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
</span><span class="p">}]</span><span class="w">
</span></code></pre>

<h3 id="returns">Returns</h3>

<p>An array of alert objects or an empty array if no active alerts were found for this user.</p>

          <h1 id="activities">Activities</h1>

<p>A user can choose to be watched for the duration of an activity.</p>

          <h2 id="the-activity-object">The activity object</h2>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"191e9aee-58e1-11e5-a0dd-38c98601185b"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"run"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07/01/2015 06:42 AM"</span><span class="p">,</span><span class="w">

    </span><span class="nt">"start_lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.00930405724701</span><span class="p">,</span><span class="w">
    </span><span class="nt">"start_lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-105.2392134802841</span><span class="p">,</span><span class="w">
    </span><span class="nt">"start_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1279 Harrison Ct, Boulder, CO 80303, USA"</span><span class="p">,</span><span class="w">

    </span><span class="nt">"end_lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.01554089136423</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-105.2499387414243</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1654 33rd St, Boulder, CO 80303, USA"</span><span class="p">,</span><span class="w">

    </span><span class="nt">"dest_lat"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dest_lng"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dest_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">

    </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1435754562000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1435755238000</span><span class="p">,</span><span class="w">

    </span><span class="nt">"elapsed_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">676000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_distance"</span><span class="p">:</span><span class="w"> </span><span class="mf">1897.0087033661473</span><span class="p">,</span><span class="w">
    </span><span class="nt">"average_speed"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.900624928694415</span><span class="p">,</span><span class="w">

    </span><span class="nt">"alert_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timeout"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"circle_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1939767a-58e1-11e5-a0dd-38c98601185b"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start_activity"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"circle_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1939767a-58e1-11e5-a0dd-38c98601185b"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"end_activity"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"circle_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1939767a-58e1-11e5-a0dd-38c98601185b"</span><span class="w">
    </span><span class="p">}],</span><span class="w">

    </span><span class="nt">"alerts_triggered"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w"> </span><span class="s2">"451bc6c0-8231-44dd-8168-d722b86f04f5"</span><span class="w"> </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ATTRIBUTES</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">uid <br><em>string</em></td>
<td>Unique identifier of the activity</td>
</tr>
<tr>
<td style="text-align: right">type <br><em>string</em></td>
<td>Activity type. Values: <code class="prettyprint">run</code>, <code class="prettyprint">walk</code>, <code class="prettyprint">bike</code>, <code class="prettyprint">social</code>, <code class="prettyprint">travel</code>, <code class="prettyprint">other</code><br><em>Additional activities will be added in future updates.</em></td>
</tr>
<tr>
<td style="text-align: right">start_lat <br><em>double</em></td>
<td>Latitude where activity started</td>
</tr>
<tr>
<td style="text-align: right">start_lng <br><em>double</em></td>
<td>Longitude where activity started</td>
</tr>
<tr>
<td style="text-align: right">start_address <br><em>string</em></td>
<td>Geocoded start address</td>
</tr>
<tr>
<td style="text-align: right">dest_lat <br><em>double</em></td>
<td>Destination latitude</td>
</tr>
<tr>
<td style="text-align: right">dest_lng <br><em>double</em></td>
<td>Destination longitude</td>
</tr>
<tr>
<td style="text-align: right">dest_address <br><em>string</em></td>
<td>Geocoded destination address</td>
</tr>
<tr>
<td style="text-align: right">end_lat <br><em>double</em></td>
<td>Latitude where activity ended</td>
</tr>
<tr>
<td style="text-align: right">end_lng <br><em>double</em></td>
<td>Longitude where activity ended</td>
</tr>
<tr>
<td style="text-align: right">end_address <br><em>string</em></td>
<td>Geocoded end address</td>
</tr>
<tr>
<td style="text-align: right">start_date <br><em>timestamp</em></td>
<td>Timestamp (UTC) when activity started</td>
</tr>
<tr>
<td style="text-align: right">end_date <br><em>timestamp</em></td>
<td>Timestamp (UTC) when activity ended</td>
</tr>
<tr>
<td style="text-align: right">elapsed_time <br><em>integer</em></td>
<td>Duration of activity (ms)</td>
</tr>
<tr>
<td style="text-align: right">total_distance <br><em>double</em></td>
<td>Total distance traveled (meters)</td>
</tr>
<tr>
<td style="text-align: right">average_speed <br><em>double</em></td>
<td>Calculated average speed (meters/second)</td>
</tr>
<tr>
<td style="text-align: right">alert_settings <br><em>list</em></td>
<td>List of <a href="#the-alert_setting-object">alert_setting</a> objects</td>
</tr>
<tr>
<td style="text-align: right">alerts_triggered <br><em>list</em></td>
<td>List of <code class="prettyprint">alert_uid</code> triggered for this activity. Returns <code class="prettyprint">null</code> if no alerts were triggered.</td>
</tr>
</tbody></table>

<h3 id="the-alert_setting-object">The alert_setting object</h3>

<table><thead>
<tr>
<th style="text-align: right">ATTRIBUTES</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">type <br><em>string</em></td>
<td>Alert type. Values: <code class="prettyprint">start_activity</code>, <code class="prettyprint">end_activity</code>, <code class="prettyprint">timeout</code>, <code class="prettyprint">ping</code></td>
</tr>
<tr>
<td style="text-align: right">circles <br><em>list</em></td>
<td>The list of circles that will notified if this alert is triggered</td>
</tr>
<tr>
<td style="text-align: right">timeout <br><em>integer</em></td>
<td>[<code class="prettyprint">timeout</code>, <code class="prettyprint">ping</code>] Time (ms) to elapse before alert is triggered</td>
</tr>
<tr>
<td style="text-align: right">interval <br><em>integer</em></td>
<td>[<code class="prettyprint">ping</code>] Time (ms) between ping requests</td>
</tr>
<tr>
<td style="text-align: right">retry_count <br><em>integer</em></td>
<td>[<code class="prettyprint">ping</code>] Number of times to try a timed out ping before an alert is triggered</td>
</tr>
</tbody></table>

          <h2 id="start-an-activity">Start an activity</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.fabriq.io/activities
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s1">'https://api.fabriq.io/activities'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>  <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>  <span class="se">\</span>
  -d <span class="s1">'{                                        
         "type": "run",                    
         "start_lat": 40.00930405724701,                    
         "start_lng": -105.2392134802841,
         "dest_address": "1617 Pearl St, Boulder, CO 80302",
         "alert_watch": true,                    
         "alert_timeout": 900000,                    
         "circles": [ "19223e56-58e1-11e5-a0dd-38c98601185b" ]
      }'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"191e9aee-58e1-11e5-a0dd-38c98601185b"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"run"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07/01/2015 06:42 AM"</span><span class="p">,</span><span class="w">

    </span><span class="nt">"start_lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.00930405724701</span><span class="p">,</span><span class="w">
    </span><span class="nt">"start_lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-105.2392134802841</span><span class="p">,</span><span class="w">
    </span><span class="nt">"start_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1279 Harrison Ct, Boulder, CO 80303, USA"</span><span class="p">,</span><span class="w">

    </span><span class="nt">"end_lat"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_lng"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">

    </span><span class="nt">"dest_lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.01554089136423</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dest_lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-105.2499387414243</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dest_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1654 33rd St, Boulder, CO 80303, USA"</span><span class="p">,</span><span class="w">

    </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1435754562000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">

    </span><span class="nt">"elapsed_time"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_distance"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"average_speed"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">

    </span><span class="nt">"alert_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timeout"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"circle_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1939767a-58e1-11e5-a0dd-38c98601185b"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start_activity"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"circle_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1939767a-58e1-11e5-a0dd-38c98601185b"</span><span class="w">
    </span><span class="p">}],</span><span class="w">

    </span><span class="nt">"alerts_triggered"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">type <br><strong>required</strong>, <em>string</em></td>
<td>Activity type. Values: <code class="prettyprint">run</code>, <code class="prettyprint">walk</code>, <code class="prettyprint">bike</code>, <code class="prettyprint">social</code>, <code class="prettyprint">travel</code>, <code class="prettyprint">other</code><br><em>Additional activities will be added in future updates.</em></td>
</tr>
<tr>
<td style="text-align: right">start_lat <br><strong>required</strong>, <em>double</em></td>
<td>Latitude where activity started</td>
</tr>
<tr>
<td style="text-align: right">start_lng <br><strong>required</strong>, <em>double</em></td>
<td>Longitude where activity started</td>
</tr>
<tr>
<td style="text-align: right">name <br><em>optional</em>, <em>string</em></td>
<td>Name of this activity.  Defaults to local date and time.</td>
</tr>
<tr>
<td style="text-align: right">dest_address <br><em>optional</em>, <em>string</em></td>
<td>Destination address associated with activity</td>
</tr>
<tr>
<td style="text-align: right">alert_watch <br><em>optional</em>, <em>boolean</em></td>
<td>Flag to request user&rsquo;s contacts to watch him or her.  Each contact will receive a message when the activity starts (and optionally when the activity stops) with a link to watch the user in real time.</td>
</tr>
<tr>
<td style="text-align: right">alert_timeout <br><em>optional</em>, <em>integer</em></td>
<td>Number of milliseconds that the user expects the activity to last.  If the activity is not ended before this time, an alert will be triggered.  This timeout can be extended if the activity takes longer than the user initially anticipated.</td>
</tr>
<tr>
<td style="text-align: right">alert_ping_interval <br><em>optional</em>, <em>integer</em></td>
<td>This enables the <a href="#ping-alert">ping</a> feature and sets the number of milliseconds between ping requests.</td>
</tr>
<tr>
<td style="text-align: right">alert_ping_timeout <br><em>optional</em>, <em>integer</em></td>
<td>Number of milliseconds to wait for a user reply before the ping is flagged as an alert.</td>
</tr>
<tr>
<td style="text-align: right">alert_ping_retry_count <br><em>optional</em>, <em>integer</em></td>
<td>Number of times to try a timed out ping before an alert is triggered.</td>
</tr>
<tr>
<td style="text-align: right">circles <br><em>optional</em>, <em>list</em></td>
<td>Array of <code class="prettyprint">circle_uid</code>&rsquo;s which will be messaged for the specified alert settings. This is required if any of the alert options are set.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An activity object.</p>

          <h2 id="update-position">Update position</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>POST https://api.fabriq.io/activities/{ACTIVITY_UID}/position
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X POST <span class="s1">'https://api.fabriq.io/activities/191e9aee-58e1-11e5-a0dd-38c98601185b/position'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>   <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>         <span class="se">\</span>
  -d <span class="s1">'[{                                        
            "latitude": 40.01547488387676,
            "longitude":-105.2499169484761,
            "timestamp": 1401640190777                      
       },{                                      
            "latitude": 40.0154335191846,                    
            "longitude": -105.2499519010123,                    
            "timestamp": 1401640196770                      
       }]'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight plaintext"><code>HTTP Status Code: 201
</code></pre>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">positions <br><strong>required</strong></td>
<td>An array of <a href="#position">position</a> objects. <code class="prettyprint">latitude</code>, <code class="prettyprint">longitude</code> and <code class="prettyprint">timestamp</code> fields are required.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>This method will return a 201 HTTP Status code if the data was uploaded successfully.  It does not return a JSON object.</p>

          <h2 id="end-an-activity">End an activity</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>DELETE https://api.fabriq.io/activities/{ACTIVITY_UID}
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X DELETE <span class="s1">'https://api.fabriq.io/activities/804fe823-e230-47aa-b0e9-3131ca6326b1'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>  <span class="se">\</span>
  -d <span class="nv">end_lat</span><span class="o">=</span>40.01592844038895  <span class="se">\</span>
  -d <span class="nv">end_lng</span><span class="o">=</span>-105.2487217142231
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"191e9aee-58e1-11e5-a0dd-38c98601185b"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"run"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07/01/2015 06:42 AM"</span><span class="p">,</span><span class="w">

    </span><span class="nt">"start_lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.00930405724701</span><span class="p">,</span><span class="w">
    </span><span class="nt">"start_lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-105.2392134802841</span><span class="p">,</span><span class="w">
    </span><span class="nt">"start_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1279 Harrison Ct, Boulder, CO 80303, USA"</span><span class="p">,</span><span class="w">

    </span><span class="nt">"end_lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.01554089136423</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-105.2499387414243</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1654 33rd St, Boulder, CO 80303, USA"</span><span class="p">,</span><span class="w">

    </span><span class="nt">"dest_lat"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dest_lng"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dest_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">

    </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1435754562000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1435755238000</span><span class="p">,</span><span class="w">

    </span><span class="nt">"elapsed_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">676000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_distance"</span><span class="p">:</span><span class="w"> </span><span class="mf">1897.0087033661473</span><span class="p">,</span><span class="w">
    </span><span class="nt">"average_speed"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.900624928694415</span><span class="p">,</span><span class="w">

    </span><span class="nt">"alert_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timeout"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"circle_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1939767a-58e1-11e5-a0dd-38c98601185b"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start_activity"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"circle_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1939767a-58e1-11e5-a0dd-38c98601185b"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"end_activity"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"circle_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1939767a-58e1-11e5-a0dd-38c98601185b"</span><span class="w">
    </span><span class="p">}],</span><span class="w">

    </span><span class="nt">"alerts_triggered"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">end_lat <br><em>optional</em>, <em>double</em></td>
<td>Latitude where activity ended</td>
</tr>
<tr>
<td style="text-align: right">end_lng <br><em>optional</em>, <em>double</em></td>
<td>Longitude where activity ended</td>
</tr>
<tr>
<td style="text-align: right">disable_alerts <br><em>optional</em>, <em>boolean</em></td>
<td>If a watch alert was set when the activity was started, the user&rsquo;s contacts will automatically be notified when the activity end.  Set this to true to prevent this notification from being sent.</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An activity object.</p>

          <h2 id="retrieve-an-activity">Retrieve an activity</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.fabriq.io/activities/{ACTIVITY_UID}
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.fabriq.io/activities/191e9aee-58e1-11e5-a0dd-38c98601185b'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"191e9aee-58e1-11e5-a0dd-38c98601185b"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"run"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"07/01/2015 06:42 AM"</span><span class="p">,</span><span class="w">

    </span><span class="nt">"start_lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.00930405724701</span><span class="p">,</span><span class="w">
    </span><span class="nt">"start_lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-105.2392134802841</span><span class="p">,</span><span class="w">
    </span><span class="nt">"start_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1279 Harrison Ct, Boulder, CO 80303, USA"</span><span class="p">,</span><span class="w">

    </span><span class="nt">"end_lat"</span><span class="p">:</span><span class="w"> </span><span class="mf">40.01554089136423</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_lng"</span><span class="p">:</span><span class="w"> </span><span class="mf">-105.2499387414243</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1654 33rd St, Boulder, CO 80303, USA"</span><span class="p">,</span><span class="w">

    </span><span class="nt">"dest_lat"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dest_lng"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="nt">"dest_address"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">

    </span><span class="nt">"start_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1435754562000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"end_date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1435755238000</span><span class="p">,</span><span class="w">

    </span><span class="nt">"elapsed_time"</span><span class="p">:</span><span class="w"> </span><span class="mi">676000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"total_distance"</span><span class="p">:</span><span class="w"> </span><span class="mf">1897.0087033661473</span><span class="p">,</span><span class="w">
    </span><span class="nt">"average_speed"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.900624928694415</span><span class="p">,</span><span class="w">

    </span><span class="nt">"alert_settings"</span><span class="p">:</span><span class="w"> </span><span class="p">[{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"timeout"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">2400000</span><span class="p">,</span><span class="w">
        </span><span class="nt">"circle_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1939767a-58e1-11e5-a0dd-38c98601185b"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start_activity"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"circle_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1939767a-58e1-11e5-a0dd-38c98601185b"</span><span class="w">
    </span><span class="p">},{</span><span class="w">
        </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"end_activity"</span><span class="p">,</span><span class="w">
        </span><span class="nt">"circle_uid"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1939767a-58e1-11e5-a0dd-38c98601185b"</span><span class="w">
    </span><span class="p">}],</span><span class="w">

    </span><span class="nt">"alerts_triggered"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">activity_uid <br><strong>required</strong></td>
<td>The UID of the activity to be retrieved</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>An activity object if a valid UID was provided.</p>

          <h1 id="threats">Threats</h1>

          <h1 id="settings">Settings</h1>

<p>The user&rsquo;s settings allow for customization of global and app specific variables.</p>

          <h2 id="the-settings-object">The settings object</h2>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"panic_delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"panic_silent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metric_units"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_panic_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PANIC! HELP, I'm in danger!"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_panic_cancel_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This panic alert has been canceled."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_activity_start_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hi, letting you know I'm heading out for my workout."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_activity_end_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hi, letting you know I'm back from my workout."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_activity_timeout_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HELP! I went for a workout and should've been back by now!"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_ping_timeout_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HELP! I haven't responded to my security checks!"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_ping_interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_ping_retry_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_ping_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ATTRIBUTES</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">panic_delay <br><em>integer</em></td>
<td>[UI] Time in milliseconds to wait before the PANIC alert is triggered.  The user should be able to cancel the alert during this window.</td>
</tr>
<tr>
<td style="text-align: right">panic_silent <br><em>boolean</em></td>
<td>[UI] Flag to indicate a PANIC alert should be triggered silently.</td>
</tr>
<tr>
<td style="text-align: right">metric_units <br><em>boolean</em></td>
<td>[UI] User preference to view/update his or her profile data</td>
</tr>
<tr>
<td style="text-align: right">alert_panic_message <br><em>string</em></td>
<td>Message sent when panic is triggered</td>
</tr>
<tr>
<td style="text-align: right">alert_panic_cancel_message <br><em>string</em></td>
<td>Message sent when active alert is canceled</td>
</tr>
<tr>
<td style="text-align: right">alert_activity_start_message <br><em>string</em></td>
<td>Message sent when activity is started</td>
</tr>
<tr>
<td style="text-align: right">alert_activity_end_message <br><em>string</em></td>
<td>Message sent when activity is ended</td>
</tr>
<tr>
<td style="text-align: right">alert_activity_timeout_message <br><em>string</em></td>
<td>Message sent when activity times out</td>
</tr>
<tr>
<td style="text-align: right">alert_ping_timeout_message <br><em>string</em></td>
<td>Message sent when user fails to respond to &lsquo;ping_me&rsquo; after the specified number of retries</td>
</tr>
<tr>
<td style="text-align: right">alert_ping_interval <br><em>integer</em></td>
<td>Time in milliseconds to send a &#39;ping_me&rsquo; message to the user</td>
</tr>
<tr>
<td style="text-align: right">alert_ping_timeout <br><em>integer</em></td>
<td>Time in milliseconds to wait for a user to respond to a &#39;ping_me&rsquo;</td>
</tr>
<tr>
<td style="text-align: right">alert_ping_retry_count <br><em>integer</em></td>
<td>Number of times to try a &#39;ping_me&rsquo; after a timeout before triggering an alert</td>
</tr>
</tbody></table>

          <h2 id="retrieve-settings">Retrieve settings</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>GET https://api.fabriq.io/settings
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl <span class="s1">'https://api.fabriq.io/settings'</span>  <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"panic_delay"</span><span class="p">:</span><span class="w"> </span><span class="mi">5000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"panic_silent"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metric_units"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_panic_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"PANIC! HELP, I'm in danger!"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_panic_cancel_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This panic alert has been canceled."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_activity_start_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hi, letting you know I'm heading out for my workout."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_activity_end_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Hi, letting you know I'm back from my workout."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_activity_timeout_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HELP! I went for a workout and should've been back by now!"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_ping_timeout_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"HELP! I haven't responded to my security checks!"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_ping_interval"</span><span class="p">:</span><span class="w"> </span><span class="mi">30000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_ping_retry_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_ping_timeout"</span><span class="p">:</span><span class="w"> </span><span class="mi">60000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<h3 id="returns">Returns</h3>

<p>The user&rsquo;s settings object.</p>

          <h2 id="update-setting">Update setting</h2>

<blockquote>
<p>Definition</p>
</blockquote>
<pre class="highlight plaintext"><code>PUT https://api.fabriq.io/settings
</code></pre>

<blockquote>
<p>Sample Request</p>
</blockquote>
<pre class="highlight shell"><code>curl -X PUT <span class="s1">'https://api.fabriq.io/settings'</span>        <span class="se">\</span>
  -H <span class="s1">'Authorization: Bearer {ACCESS_TOKEN}'</span>   <span class="se">\</span>
  -H <span class="s1">'Content-Type: application/json'</span>         <span class="se">\</span>
  -d <span class="s1">'{                                        
        "panic_delay": 7000
      }'</span>
</code></pre>

<blockquote>
<p>Sample Response</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
    </span><span class="nt">"panic_delay"</span><span class="p">:</span><span class="mi">7000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"panic_silent"</span><span class="p">:</span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nt">"metric_units"</span><span class="p">:</span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_panic_message"</span><span class="p">:</span><span class="s2">"PANIC! HELP, I'm in danger!"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_panic_cancel_message"</span><span class="p">:</span><span class="s2">"This panic alert has been canceled."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_activity_start_message"</span><span class="p">:</span><span class="s2">"Hi, letting you know I'm heading out for my workout."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_activity_end_message"</span><span class="p">:</span><span class="s2">"Hi, letting you know I'm back from my workout."</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_activity_timeout_message"</span><span class="p">:</span><span class="s2">"HELP! I went for a workout and should've been back by now!"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_ping_timeout_message"</span><span class="p">:</span><span class="s2">"HELP! I haven't responded to my security checks!"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_ping_interval"</span><span class="p">:</span><span class="mi">30000</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_ping_retry_count"</span><span class="p">:</span><span class="mi">2</span><span class="p">,</span><span class="w">
    </span><span class="nt">"alert_ping_timeout"</span><span class="p">:</span><span class="mi">60000</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<table><thead>
<tr>
<th style="text-align: right">ARGUMENTS</th>
<th></th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: right">panic_delay <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">panic_silent <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">metric_units <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">alert_panic_message <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">alert_panic_cancel_message <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">alert_activity_start_message <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">alert_activity_end_message <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">alert_activity_timeout_message <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">alert_ping_timeout_message <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">alert_ping_interval <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">alert_ping_retry_count <br><em>optional</em></td>
<td>-</td>
</tr>
<tr>
<td style="text-align: right">alert_ping_timeout <br><em>optional</em></td>
<td>-</td>
</tr>
</tbody></table>

<h3 id="returns">Returns</h3>

<p>Return the updated settings object.</p>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="shell">shell</a>
          </div>
      </div>
    </div>



<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-64463226-5', 'auto');
  ga('send', 'pageview');

    $(document).on("ready", function(){
    var runned = false;
    $(window).scroll( function() {
        if ($(document).scrollTop() >= 250 && runned == false ) {
            ga('send', 'event', {
                eventCategory: 'Scrolled 250px',
                eventAction: 'Scroll'
            });
            runned = true;
        }
    });


    $(document).on("click", "a", function() {
        var href = $(this).attr('href');
        console.log("event: href: " + href);
        ga('send', 'event', {
            eventCategory: href,
            eventAction: 'Click'
        });
    });
    });
</script>

  </body>
</html>
